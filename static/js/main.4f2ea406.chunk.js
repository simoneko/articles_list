(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,n){},144:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(13),a=n.n(o),c=(n(50),n(14)),s=n.n(c),l=n(15),u=n(40),d=n(5),f=n(6),h=n(8),p=n(7),g=n(9),v=(n(52),n(53),n(41)),m=n.n(v),w=n(42),b=function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).state={isOpen:!1},n.toggle=function(){n.setState({isOpen:!n.state.isOpen}),n.props.showArticle(n.props.id)},n}return Object(g.a)(t,e),Object(f.a)(t,[{key:"componentDidUpdate",value:function(e){e.currentID!==this.props.currentID&&this.props.id!==this.props.currentID&&this.setState({isOpen:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.title,r=t.body,o=t.img,a=t.alt,c=r.map(function(e){return m()(e.data)});return i.a.createElement("div",{className:"article"},i.a.createElement("h1",{className:"title",onClick:function(){e.toggle()}},n),i.a.createElement(w.Transition,{items:this.state.isOpen,config:{duration:300},from:{height:0,overflow:"hidden"},enter:[{height:"auto",overflow:"auto"}],leave:{height:0,overflow:"hidden"}},function(e){return e&&function(e){return i.a.createElement("div",{style:e,className:"content"},i.a.createElement("img",{className:"articleImg",src:o,alt:a}),c)}}))}}]),t}(i.a.Component),y=(n(103),function(e){var t=e.list.map(function(t){return i.a.createElement(b,{key:t.id,id:t.id,title:t.title,body:t.body,img:t.img.original_url,alt:t.img.description,showArticle:e.showArticle,currentID:e.currentID})});return i.a.createElement("div",{className:"articlesList"},t)}),O=n(43),k=n.n(O),A=n(44),j=n.n(A),E=function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).state={list:[],error:null,isLoaded:!1,currentID:"",isArticleOpen:!1,offset:0},n.getArticles=function(){var e=Object(u.a)(s.a.mark(function e(t){var r,i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="\n      {\n        articles(t: Article, limit: 10, offset: ".concat(t,") {\n          id\n          title\n          body {\n            data\n          }\n          img {\n            original_url\n            description\n          }\n        }\n      }\n    "),e.prev=1,e.next=4,k.a.post("https://mobileapi.wp.pl/v1/graphql",{query:r});case 4:i=e.sent,n.setState({isLoaded:!0,list:[].concat(Object(l.a)(n.state.list),Object(l.a)(i.data.data.articles))}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),n.setState(function(){return{error:e.t0}});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}(),n.showArticle=function(e){n.setState({currentID:e})},n.getMore=function(){n.getArticles(n.state.offset+10),n.setState({offset:n.state.offset+10})},n}return Object(g.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.getArticles(0)}},{key:"render",value:function(){var e=this.state,t=e.error,n=e.isLoaded,r=e.list;return t?(console.log(t.response),i.a.createElement("div",{id:"error"},t.message)):n?i.a.createElement("div",{className:"App"},i.a.createElement(y,{list:r,showArticle:this.showArticle,currentID:this.state.currentID,isArticleOpen:this.state.isArticleOpen}),i.a.createElement("button",{id:"getMore",onClick:this.getMore},"Za\u0142aduj kolejne 10 artyku\u0142\xf3w")):i.a.createElement("div",{id:"loader"},i.a.createElement(j.a,{type:"CradleLoader",color:"#00BFFF",height:"100",width:"100"}))}}]),t}(i.a.Component),D=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function I(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}a.a.render(i.a.createElement(E,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/articles_list",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/articles_list","/service-worker.js");D?(function(e,t){fetch(e).then(function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):I(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):I(t,e)})}}()},45:function(e,t,n){e.exports=n(144)},50:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},71:function(e,t){}},[[45,1,2]]]);
//# sourceMappingURL=main.4f2ea406.chunk.js.map