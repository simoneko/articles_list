(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(t,e,n){},144:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),i=n(13),o=n.n(i),c=(n(50),n(14)),s=n.n(c),l=n(15),u=n(40),p=n(5),d=n(6),h=n(8),f=n(7),m=n(9),g=(n(52),n(53),n(41)),v=n.n(g),w=n(42),b=function(t){function e(){var t,n;Object(p.a)(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(h.a)(this,(t=Object(f.a)(e)).call.apply(t,[this].concat(a)))).state={isOpen:!1},n.toggle=function(){n.setState({isOpen:!n.state.isOpen}),n.props.showArticle(n.props.id)},n}return Object(m.a)(e,t),Object(d.a)(e,[{key:"componentDidUpdate",value:function(t){t.currentID!==this.props.currentID&&this.props.id!==this.props.currentID&&this.setState({isOpen:!1})}},{key:"render",value:function(){var t=this,e=this.props,n=e.title,r=e.body,i=e.img,o=e.alt,c=r.map(function(t){return v()(t.data)});return a.a.createElement("div",{className:"article"},a.a.createElement("h1",{className:"title",onClick:function(){t.toggle()}},n),a.a.createElement(w.Transition,{items:this.state.isOpen,config:{duration:300},from:{height:0,overflow:"hidden"},enter:[{height:"auto",overflow:"auto"}],leave:{height:0,overflow:"hidden"}},function(t){return t&&function(t){return a.a.createElement("div",{style:t,className:"content"},a.a.createElement("img",{className:"articleImg",src:i,alt:o}),c)}}))}}]),e}(a.a.Component),O=(n(103),function(t){var e=t.list.map(function(e){return a.a.createElement(b,{key:e.id,id:e.id,title:e.title,body:e.body,img:e.img.original_url,alt:e.img.description,showArticle:t.showArticle,currentID:t.currentID})});return a.a.createElement("div",{className:"articlesList"},e)}),y=n(43),A=n.n(y),j=n(44),k=n.n(j),E=function(t){function e(){var t,n;Object(p.a)(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(h.a)(this,(t=Object(f.a)(e)).call.apply(t,[this].concat(a)))).state={list:[],error:null,isLoaded:!1,currentID:"",isArticleOpen:!1,offset:0},n.getArticles=function(){var t=Object(u.a)(s.a.mark(function t(e){var r,a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="\n      {\n        articles(t: Article, limit: 10, offset: ".concat(e,") {\n          id\n          title\n          body {\n            data\n          }\n          img {\n            original_url\n            description\n          }\n        }\n      }\n    "),t.prev=1,t.next=4,A.a.post("https://mobileapi.wp.pl/v1/graphql",{query:r});case 4:a=t.sent,n.setState({isLoaded:!0,list:[].concat(Object(l.a)(n.state.list),Object(l.a)(a.data.data.articles))}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n.setState(function(){return{error:t.t0}});case 11:case"end":return t.stop()}},t,null,[[1,8]])}));return function(e){return t.apply(this,arguments)}}(),n.showArticle=function(t){n.setState({currentID:t})},n.getMore=function(){n.getArticles(n.state.offset+10),n.setState({offset:n.state.offset+10})},n}return Object(m.a)(e,t),Object(d.a)(e,[{key:"componentDidMount",value:function(){this.getArticles(0)}},{key:"render",value:function(){var t=this.state,e=t.error,n=t.isLoaded,r=t.list;return e?(console.log(e.response),a.a.createElement("div",null,e.message)):n?a.a.createElement("div",{className:"App"},a.a.createElement(O,{list:r,showArticle:this.showArticle,currentID:this.state.currentID,isArticleOpen:this.state.isArticleOpen}),a.a.createElement("button",{id:"getMore",onClick:this.getMore},"Za\u0142aduj kolejne 10 artyku\u0142\xf3w")):a.a.createElement("div",{id:"loader"},a.a.createElement(k.a,{type:"CradleLoader",color:"#00BFFF",height:"100",width:"100"}))}}]),e}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},45:function(t,e,n){t.exports=n(144)},50:function(t,e,n){},52:function(t,e,n){},53:function(t,e,n){},71:function(t,e){}},[[45,1,2]]]);
//# sourceMappingURL=main.75b587c4.chunk.js.map